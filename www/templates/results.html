<ion-list>
    <!-- Risultati CloudSight -->
    <div ng-show="m.results.ok === true && m.Loader.active.names.engine === 'CloudSight'">
        <ion-item class="item-divider">
            Stato: {{m.results.content.status}}
            <span style="display:inline-block;float:right">Tempo di ricerca: {{m.results.content.time.toFixed(1)}} sec</span>
        </ion-item>
        <ion-item class="item" style="text-transform:capitalize">{{m.results.content.name}}</ion-item>
    </div>
    <!-- Risultati Imagga -->
    <div ng-show="m.results.ok === true && m.Loader.active.names.engine === 'Imagga'">
        <ion-item class="item-divider">Risultati</ion-item>
        <ion-item ng-repeat="tag in m.results.content.tags | limitTo: 10">
            <span style="text-transform:capitalize">{{tag.tag}}</span>
            <span class="item-note">{{tag.confidence.toFixed(1)}}%</span>
        </ion-item>
    </div>
    <!-- Risultati JustVisual -->
    <div ng-show="m.results.ok === true && m.Loader.active.names.engine === 'JustVisual'">
        <ion-item class="item-divider">Risultati</ion-item>
        <ion-item ng-repeat="result in m.results.content.images" class="item-thumbnail-left">
            <img ng-src="{{result.imageUrl}}">
            <a ng-href="{{result.pageUrl}}">{{result.title}}</a>
        </ion-item>
    </div>
    <!-- Risultati Google Cloud Vision -->
    <div ng-show="m.results.ok === true && m.Loader.active.names.engine === 'Google Cloud Vision'">
        <ion-item class="item-divider" ng-show="m.Loader.active.names.set !== 'Text Detection'">Risultati</ion-item>
        <!-- Label Detection -->
        <ion-item ng-repeat="label in m.results.content.responses[0].labelAnnotations">
            <span>{{label.description}}</span>
            <span class="item-note">{{(label.score * 100).toFixed(1)}}%</span>
        </ion-item>
        <!-- Landmark Detection -->
        <ion-item ng-repeat="landmark in m.results.content.responses[0].landmarkAnnotations">
            <span>{{landmark.description}}</span>
            <span class="item-note">{{(landmark.score * 100).toFixed(1)}}%</span>
        </ion-item>
        <!-- Logo Detection -->
        <ion-item ng-repeat="logo in m.results.content.responses[0].logoAnnotations">
            <span>{{logo.description}}</span>
            <span class="item-note">{{(logo.score * 100).toFixed(1)}}%</span>
        </ion-item>
        <!-- Text Detection -->
        <div ng-show="m.Loader.active.names.set === 'Text Detection'">
            <ion-item class="item-divider">Lingua: {{m.results.content.responses[0].textAnnotations[0].locale}}</ion-item>
            <ion-item class="item-text-wrap">{{m.results.content.responses[0].textAnnotations[0].description}}</ion-item>
            <div ng-show="m.results.translator.ok === true">
                <ion-item class="item-divider">Traduzione: {{m.results.translator.lang}}</ion-item>
                <ion-item class="item-text-wrap">{{m.results.translator.text}}</ion-item>
            </div>
        </div>
    </div>
    <!-- Risultati MetaMind -->
    <div ng-show="m.results.ok === true && m.Loader.active.names.engine === 'MetaMind'">
        <ion-item class="item-divider">Risultati</ion-item>
        <ion-item ng-repeat="prediction in m.results.content.predictions">
            <span>{{prediction.class_name}}</span>
            <span class="item-note">{{(prediction.prob * 100).toFixed(1)}}%</span>
        </ion-item>
    </div>
    <!-- Database -->
    <div ng-show="m.results.database.ok === true && (m.Loader.active.names.set === 'Custom Classifier' || m.Loader.active.names.set === 'Custom Index')">
        <ion-item class="item-divider" ng-show="m.results.database.ok === true && m.Loader.active.names.set === 'Custom Classifier'">
            Giacenza del componente "{{m.results.content.predictions[0].class_name}}": {{m.results.database.stock}}
        </ion-item>
        <ion-item class="item-divider" ng-show="m.results.database.ok === true && m.Loader.active.names.set === 'Custom Index'">
            Giacenza del componente "{{m.results.content.images[0].title}}": {{m.results.database.stock}}
        </ion-item>
        <ion-item ng-repeat="product in m.results.database.products">
            <span>{{product.Name}}</span>
            <span class="item-note">{{product.Quantity}}</span>
        </ion-item>
    </div>
    <!-- Microsoft Computer Vision Analyse -->
    <div ng-show="m.results.ok === true && m.Loader.active.names.set === 'Analyse'">
        <div ng-show="m.results.content.description.captions.length > 0">
            <ion-item class="item-divider">Descrizione</ion-item>
            <ion-item class="item-text-wrap" ng-repeat="caption in m.results.content.description.captions">
                {{caption.text}}
                <span class="item-note">{{(caption.confidence * 100).toFixed(1)}}%</span>
            </ion-item>
        </div>
        <div ng-show="m.results.content.faces.length > 0">
            <ion-item class="item-divider">Facce</ion-item>
            <ion-item ng-repeat="face in m.results.content.faces">
                Sesso: {{face.gender}}, Età: {{face.age}}
            </ion-item>
        </div>
        <div ng-show="m.results.content.tags.length > 0">
            <ion-item class="item-divider">Tag</ion-item>
            <ion-item ng-repeat="tag in m.results.content.tags">
                {{tag.name}}
                <span class="item-note">{{(tag.confidence * 100).toFixed(1)}}%</span>
            </ion-item>
        </div>
        <ion-item class="item-divider">Colori</ion-item>
        <ion-item>Primo piano: {{m.results.content.color.dominantColorForeground}}</ion-item>
        <ion-item>Sfondo: {{m.results.content.color.dominantColorBackground}}</ion-item>
        <ion-item>Dominanti:<span ng-repeat="c in m.results.content.color.dominantColors"> {{c}}</span></ion-item>
        <ion-item>Accent: {{m.results.content.color.accentColor}}</ion-item>
        <ion-item>Bianco e nero: 
            <span ng-show="m.results.content.color.isBWImg === true">si</span>
            <span ng-show="m.results.content.color.isBWImg === false">no</span>
        </ion-item>
        <ion-item class="item-divider">Contenuto esplicito</ion-item>
        <ion-item>Per adulti: 
            <span ng-show="m.results.content.adult.isAdultContent === true">si</span>
            <span ng-show="m.results.content.adult.isAdultContent === false">no</span>
            <span class="item-note">{{(m.results.content.adult.adultScore * 100).toFixed(1)}}%</span>
        </ion-item>
        <ion-item>Razzismo: 
            <span ng-show="m.results.content.adult.isRacyContent === true">si</span>
            <span ng-show="m.results.content.adult.isRacyContent === false">no</span>
            <span class="item-note">{{(m.results.content.adult.racyScore * 100).toFixed(1)}}%</span>
        </ion-item>
    </div>
    <!-- Microsoft Computer Vision OCR -->
    <div ng-show="m.results.ok === true && m.Loader.active.names.set === 'OCR'">
        <ion-item class="item-divider">Lingua: {{m.results.content.lang}}</ion-item>
        <ion-item class="item-text-wrap">{{m.results.content.text}}</ion-item>
        <div ng-show="m.results.translator.ok === true">
            <ion-item class="item-divider">Traduzione: {{m.results.translator.lang}}</ion-item>
            <ion-item class="item-text-wrap">{{m.results.translator.text}}</ion-item>
        </div>
    </div>
</ion-list>
